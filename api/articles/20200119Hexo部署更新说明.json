{"title":"Hexo部署更新说明","slug":"20200119Hexo部署更新说明","date":"2020-01-19T14:11:55.000Z","updated":"2022-06-08T09:48:57.216Z","comments":true,"path":"api/articles/20200119Hexo部署更新说明.json","excerpt":"主要记录hexo部署过程的一些配置，其中从标题2.0开始，设置主要对应hexo6.1版本 [Figure] 2.0 配置信息目录主题目录：\\hexo\\node_modules\\hexo-theme-landscapebanner目录：\\hexo\\node_modules\\hexo-theme-landscape\\source\\css\\imagesfavicon目录：\\hexo\\node_modules\\hexo-theme-landscape\\source注意：如果将favicon图标和banner放在一起，需要修改主题的配置文件为：favicon: “&#x2F;css&#x2F;images&#x2F;favicon.png”站内搜索：\\hexo\\node_modules\\hexo\\lib\\plugins\\helper，将目录下search_form.js文件内的“google.com”修改为“bing.com”","covers":["https://s2.loli.net/2022/06/06/QG2Z3wlDjH1MU6b.png"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><hr>\n<p>主要记录hexo部署过程的一些配置，其中从标题2.0开始，设置主要对应hexo6.1版本</p>\n<img src=\"https://s2.loli.net/2022/06/06/QG2Z3wlDjH1MU6b.png\" alt=\"hexo\" style=\"zoom: 50%;\" />\n\n<h2 id=\"2-2屏蔽分享功能\"><a href=\"#2-2屏蔽分享功能\" class=\"headerlink\" title=\"2.2屏蔽分享功能\"></a>2.2屏蔽分享功能</h2><p>删除了\\hexo\\node_modules\\hexo-theme-landscape\\source\\js目录下script.ejs文件58-63行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x27;&lt;div class=&quot;article-share-links&quot;&gt;&#x27;,</span><br><span class=\"line\">   &#x27;&lt;a href=&quot;https://twitter.com/intent/tweet?text=&#x27; + encodeURIComponent(title) + &#x27;&amp;url=&#x27; + encodedUrl + &#x27;&quot; class=&quot;article-share-twitter&quot; target=&quot;_blank&quot; title=&quot;Twitter&quot;&gt;&lt;/a&gt;&#x27;,</span><br><span class=\"line\">   &#x27;&lt;a href=&quot;https://www.facebook.com/sharer.php?u=&#x27; + encodedUrl + &#x27;&quot; class=&quot;article-share-facebook&quot; target=&quot;_blank&quot; title=&quot;Facebook&quot;&gt;&lt;/a&gt;&#x27;,</span><br><span class=\"line\">   &#x27;&lt;a href=&quot;http://pinterest.com/pin/create/button/?url=&#x27; + encodedUrl + &#x27;&quot; class=&quot;article-share-pinterest&quot; target=&quot;_blank&quot; title=&quot;Pinterest&quot;&gt;&lt;/a&gt;&#x27;,</span><br><span class=\"line\">   &#x27;&lt;a href=&quot;https://www.linkedin.com/shareArticle?mini=true&amp;url=&#x27; + encodedUrl + &#x27;&quot; class=&quot;article-share-linkedin&quot; target=&quot;_blank&quot; title=&quot;LinkedIn&quot;&gt;&lt;/a&gt;&#x27;,</span><br><span class=\"line\">&#x27;&lt;/div&gt;&#x27;,</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-1删除cdn地址\"><a href=\"#2-1删除cdn地址\" class=\"headerlink\" title=\"2.1删除cdn地址\"></a>2.1删除cdn地址</h2><p>删除了\\hexo\\node_modules\\hexo-theme-landscape\\layout\\_partial目录下head.ejs文件32-34行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% if (config.highlight.enable)&#123; %&gt;</span><br><span class=\"line\">  &lt;%- css(&#x27;https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css&#x27;) %&gt;</span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-0-配置信息目录\"><a href=\"#2-0-配置信息目录\" class=\"headerlink\" title=\"2.0 配置信息目录\"></a>2.0 配置信息目录</h2><ol>\n<li><p>主题目录：\\hexo\\node_modules\\hexo-theme-landscape</p>\n</li>\n<li><p>banner目录：\\hexo\\node_modules\\hexo-theme-landscape\\source\\css\\images</p>\n</li>\n<li><p>favicon目录：\\hexo\\node_modules\\hexo-theme-landscape\\source</p>\n<p>注意：如果将favicon图标和banner放在一起，需要修改主题的配置文件为：favicon: “&#x2F;css&#x2F;images&#x2F;favicon.png”</p>\n</li>\n<li><p>站内搜索：\\hexo\\node_modules\\hexo\\lib\\plugins\\helper，将目录下search_form.js文件内的“google.com”修改为“bing.com”</p>\n</li>\n</ol>\n<span id=\"more\"></span>\n\n<h2 id=\"1-6-更改“上一页”、“下一页”样式\"><a href=\"#1-6-更改“上一页”、“下一页”样式\" class=\"headerlink\" title=\"1.6 更改“上一页”、“下一页”样式\"></a>1.6 更改“上一页”、“下一页”样式</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% var prev_text = &quot;&amp;laquo; &quot; + __(&#x27;prev&#x27;);var next_text = __(&#x27;next&#x27;) + &quot; &amp;raquo;&quot;%&gt;</span><br><span class=\"line\">修改为</span><br><span class=\"line\">&lt;% var prev_text = __(&#x27;prev&#x27;);var next_text = __(&#x27;next&#x27;) %&gt;</span><br></pre></td></tr></table></figure>\n\n<p>文件路径：\\hexo\\themes\\landscape\\layout_partial；</p>\n<h2 id=\"1-5更改Googleapis\"><a href=\"#1-5更改Googleapis\" class=\"headerlink\" title=\"1.5更改Googleapis\"></a>1.5更改Googleapis</h2><p>修改主题路径\\hexo\\themes\\landscape\\layout\\_partial下修改after-footer.ejs；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">替换为</span><br><span class=\"line\">&lt;script src=&quot;//cdn.bootcdn.net/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>修改主题路径\\hexo\\themes\\landscape\\layout\\_partial下修改head.ejs；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;link href=&quot;//fonts.googleapis.com/css?family=Source+Code+Pro&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</span><br><span class=\"line\">替换为</span><br><span class=\"line\">&lt;link href=&quot;https://fonts.proxy.ustclug.org/css?family=Source+Code+Pro&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-4-URL改为urlname\"><a href=\"#1-4-URL改为urlname\" class=\"headerlink\" title=\"1.4 URL改为urlname\"></a>1.4 URL改为urlname</h2><h4 id=\"hexo配置文件-x2F-config-yml\"><a href=\"#hexo配置文件-x2F-config-yml\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :title/</span><br></pre></td></tr></table></figure>\n\n<p>修改为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :urlname/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-3-URL去掉日期\"><a href=\"#1-3-URL去掉日期\" class=\"headerlink\" title=\"1.3 URL去掉日期\"></a>1.3 URL去掉日期</h2><h4 id=\"hexo配置文件-x2F-config-yml-1\"><a href=\"#hexo配置文件-x2F-config-yml-1\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :year/:month/:day/:title/</span><br></pre></td></tr></table></figure>\n\n<p>修改为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :title/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-2-站内搜索\"><a href=\"#1-2-站内搜索\" class=\"headerlink\" title=\"1.2 站内搜索\"></a>1.2 站内搜索</h2><h4 id=\"hexo配置文件-x2F-config-yml-2\"><a href=\"#hexo配置文件-x2F-config-yml-2\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#  path: search.xml</span><br><span class=\"line\">search:</span><br><span class=\"line\">  path: search.xml</span><br><span class=\"line\">  field: post</span><br><span class=\"line\">  format: html</span><br><span class=\"line\">  limit: 10000</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"landscape配置文件-x2F-config-yml\"><a href=\"#landscape配置文件-x2F-config-yml\" class=\"headerlink\" title=\"landscape配置文件~&#x2F;_config.yml\"></a>landscape配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Local search</span><br><span class=\"line\">local_search:</span><br><span class=\"line\">  enable: true</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"JS文件search-form-js\"><a href=\"#JS文件search-form-js\" class=\"headerlink\" title=\"JS文件search_form.js\"></a>JS文件search_form.js</h4><p>路径：\\hexo\\node_modules\\hexo\\lib\\plugins\\helper</p>\n<p>修改为：bing.com</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x27;use strict&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">function searchFormHelper(options = &#123;&#125;) &#123;</span><br><span class=\"line\">  const &#123; config &#125; = this;</span><br><span class=\"line\">  const className = options.class || &#x27;search-form&#x27;;</span><br><span class=\"line\">  const &#123; text = &#x27;Search&#x27;, button &#125; = options;</span><br><span class=\"line\"></span><br><span class=\"line\">  return `&lt;form action=&quot;//bing.com/search&quot; method=&quot;get&quot; accept-charset=&quot;UTF-8&quot; class=&quot;$&#123;className&#125;&quot;&gt;&lt;input type=&quot;search&quot; name=&quot;q&quot; class=&quot;$&#123;className&#125;-input&quot;$&#123;text ? ` placeholder=&quot;$&#123;text&#125;&quot;` : &#x27;&#x27;&#125;&gt;$&#123;button ? `&lt;button type=&quot;submit&quot; class=&quot;$&#123;className&#125;-submit&quot;&gt;$&#123;typeof button === &#x27;string&#x27; ? button : text&#125;&lt;/button&gt;` : &#x27;&#x27;&#125;&lt;input type=&quot;hidden&quot; name=&quot;sitesearch&quot; value=&quot;$&#123;config.url&#125;&quot;&gt;&lt;/form&gt;`;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = searchFormHelper;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-1-主题设置\"><a href=\"#1-1-主题设置\" class=\"headerlink\" title=\"1.1 主题设置\"></a>1.1 主题设置</h2><h3 id=\"landscape配置文件-x2F-config-yml-1\"><a href=\"#landscape配置文件-x2F-config-yml-1\" class=\"headerlink\" title=\"landscape配置文件~&#x2F;_config.yml\"></a>landscape配置文件~&#x2F;_config.yml</h3><h4 id=\"阅读更多\"><a href=\"#阅读更多\" class=\"headerlink\" title=\"阅读更多\"></a>阅读更多</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Content</span><br><span class=\"line\">excerpt_link: 阅读更多</span><br><span class=\"line\">fancybox: true</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"统计数字\"><a href=\"#统计数字\" class=\"headerlink\" title=\"统计数字\"></a>统计数字</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># widget behavior</span><br><span class=\"line\">archive_type: &#x27;monthly&#x27;</span><br><span class=\"line\">show_count: true</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"站点图标\"><a href=\"#站点图标\" class=\"headerlink\" title=\"站点图标\"></a>站点图标</h4><p>路径~\\hexo\\themes\\landscape\\source</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">favicon: /favicon.png</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"站点banner\"><a href=\"#站点banner\" class=\"headerlink\" title=\"站点banner\"></a>站点banner</h4><p>路径~\\hexo\\themes\\landscape\\source\\css\\images</p>\n<h2 id=\"1-0-Git配置\"><a href=\"#1-0-Git配置\" class=\"headerlink\" title=\"1.0 Git配置\"></a>1.0 Git配置</h2><h4 id=\"hexo配置文件-x2F-config-yml-3\"><a href=\"#hexo配置文件-x2F-config-yml-3\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><p>方法一：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Deployment</span><br><span class=\"line\">## Docs: https://hexo.io/docs/deployment.html</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">- type: git</span><br><span class=\"line\">  repo: git@github.com:w***e/w***e.github.io.git</span><br><span class=\"line\">  branch: master</span><br><span class=\"line\">- type: git</span><br><span class=\"line\">  repo: git@e.coding.net:a*e/w***e.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure>\n\n<p>方法二：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Deployment</span><br><span class=\"line\">## Docs: https://hexo.io/docs/deployment.html</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">   type: git  </span><br><span class=\"line\">   repo: </span><br><span class=\"line\">      github: https://e.coding.net/a*e/w***e.git</span><br><span class=\"line\">      coding: https://github.com/w***e/w***e.github.io.git</span><br><span class=\"line\">   branch: master</span><br></pre></td></tr></table></figure>\n\n","more":"<h2 id=\"1-6-更改“上一页”、“下一页”样式\"><a href=\"#1-6-更改“上一页”、“下一页”样式\" class=\"headerlink\" title=\"1.6 更改“上一页”、“下一页”样式\"></a>1.6 更改“上一页”、“下一页”样式</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% var prev_text = &quot;&amp;laquo; &quot; + __(&#x27;prev&#x27;);var next_text = __(&#x27;next&#x27;) + &quot; &amp;raquo;&quot;%&gt;</span><br><span class=\"line\">修改为</span><br><span class=\"line\">&lt;% var prev_text = __(&#x27;prev&#x27;);var next_text = __(&#x27;next&#x27;) %&gt;</span><br></pre></td></tr></table></figure>\n\n<p>文件路径：\\hexo\\themes\\landscape\\layout_partial；</p>\n<h2 id=\"1-5更改Googleapis\"><a href=\"#1-5更改Googleapis\" class=\"headerlink\" title=\"1.5更改Googleapis\"></a>1.5更改Googleapis</h2><p>修改主题路径\\hexo\\themes\\landscape\\layout\\_partial下修改after-footer.ejs；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">替换为</span><br><span class=\"line\">&lt;script src=&quot;//cdn.bootcdn.net/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>修改主题路径\\hexo\\themes\\landscape\\layout\\_partial下修改head.ejs；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;link href=&quot;//fonts.googleapis.com/css?family=Source+Code+Pro&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</span><br><span class=\"line\">替换为</span><br><span class=\"line\">&lt;link href=&quot;https://fonts.proxy.ustclug.org/css?family=Source+Code+Pro&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-4-URL改为urlname\"><a href=\"#1-4-URL改为urlname\" class=\"headerlink\" title=\"1.4 URL改为urlname\"></a>1.4 URL改为urlname</h2><h4 id=\"hexo配置文件-x2F-config-yml\"><a href=\"#hexo配置文件-x2F-config-yml\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :title/</span><br></pre></td></tr></table></figure>\n\n<p>修改为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :urlname/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-3-URL去掉日期\"><a href=\"#1-3-URL去掉日期\" class=\"headerlink\" title=\"1.3 URL去掉日期\"></a>1.3 URL去掉日期</h2><h4 id=\"hexo配置文件-x2F-config-yml-1\"><a href=\"#hexo配置文件-x2F-config-yml-1\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :year/:month/:day/:title/</span><br></pre></td></tr></table></figure>\n\n<p>修改为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: :title/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-2-站内搜索\"><a href=\"#1-2-站内搜索\" class=\"headerlink\" title=\"1.2 站内搜索\"></a>1.2 站内搜索</h2><h4 id=\"hexo配置文件-x2F-config-yml-2\"><a href=\"#hexo配置文件-x2F-config-yml-2\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#  path: search.xml</span><br><span class=\"line\">search:</span><br><span class=\"line\">  path: search.xml</span><br><span class=\"line\">  field: post</span><br><span class=\"line\">  format: html</span><br><span class=\"line\">  limit: 10000</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"landscape配置文件-x2F-config-yml\"><a href=\"#landscape配置文件-x2F-config-yml\" class=\"headerlink\" title=\"landscape配置文件~&#x2F;_config.yml\"></a>landscape配置文件~&#x2F;_config.yml</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Local search</span><br><span class=\"line\">local_search:</span><br><span class=\"line\">  enable: true</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"JS文件search-form-js\"><a href=\"#JS文件search-form-js\" class=\"headerlink\" title=\"JS文件search_form.js\"></a>JS文件search_form.js</h4><p>路径：\\hexo\\node_modules\\hexo\\lib\\plugins\\helper</p>\n<p>修改为：bing.com</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x27;use strict&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">function searchFormHelper(options = &#123;&#125;) &#123;</span><br><span class=\"line\">  const &#123; config &#125; = this;</span><br><span class=\"line\">  const className = options.class || &#x27;search-form&#x27;;</span><br><span class=\"line\">  const &#123; text = &#x27;Search&#x27;, button &#125; = options;</span><br><span class=\"line\"></span><br><span class=\"line\">  return `&lt;form action=&quot;//bing.com/search&quot; method=&quot;get&quot; accept-charset=&quot;UTF-8&quot; class=&quot;$&#123;className&#125;&quot;&gt;&lt;input type=&quot;search&quot; name=&quot;q&quot; class=&quot;$&#123;className&#125;-input&quot;$&#123;text ? ` placeholder=&quot;$&#123;text&#125;&quot;` : &#x27;&#x27;&#125;&gt;$&#123;button ? `&lt;button type=&quot;submit&quot; class=&quot;$&#123;className&#125;-submit&quot;&gt;$&#123;typeof button === &#x27;string&#x27; ? button : text&#125;&lt;/button&gt;` : &#x27;&#x27;&#125;&lt;input type=&quot;hidden&quot; name=&quot;sitesearch&quot; value=&quot;$&#123;config.url&#125;&quot;&gt;&lt;/form&gt;`;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = searchFormHelper;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-1-主题设置\"><a href=\"#1-1-主题设置\" class=\"headerlink\" title=\"1.1 主题设置\"></a>1.1 主题设置</h2><h3 id=\"landscape配置文件-x2F-config-yml-1\"><a href=\"#landscape配置文件-x2F-config-yml-1\" class=\"headerlink\" title=\"landscape配置文件~&#x2F;_config.yml\"></a>landscape配置文件~&#x2F;_config.yml</h3><h4 id=\"阅读更多\"><a href=\"#阅读更多\" class=\"headerlink\" title=\"阅读更多\"></a>阅读更多</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Content</span><br><span class=\"line\">excerpt_link: 阅读更多</span><br><span class=\"line\">fancybox: true</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"统计数字\"><a href=\"#统计数字\" class=\"headerlink\" title=\"统计数字\"></a>统计数字</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># widget behavior</span><br><span class=\"line\">archive_type: &#x27;monthly&#x27;</span><br><span class=\"line\">show_count: true</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"站点图标\"><a href=\"#站点图标\" class=\"headerlink\" title=\"站点图标\"></a>站点图标</h4><p>路径~\\hexo\\themes\\landscape\\source</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">favicon: /favicon.png</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"站点banner\"><a href=\"#站点banner\" class=\"headerlink\" title=\"站点banner\"></a>站点banner</h4><p>路径~\\hexo\\themes\\landscape\\source\\css\\images</p>\n<h2 id=\"1-0-Git配置\"><a href=\"#1-0-Git配置\" class=\"headerlink\" title=\"1.0 Git配置\"></a>1.0 Git配置</h2><h4 id=\"hexo配置文件-x2F-config-yml-3\"><a href=\"#hexo配置文件-x2F-config-yml-3\" class=\"headerlink\" title=\"hexo配置文件~&#x2F;_config.yml\"></a>hexo配置文件~&#x2F;_config.yml</h4><p>方法一：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Deployment</span><br><span class=\"line\">## Docs: https://hexo.io/docs/deployment.html</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">- type: git</span><br><span class=\"line\">  repo: git@github.com:w***e/w***e.github.io.git</span><br><span class=\"line\">  branch: master</span><br><span class=\"line\">- type: git</span><br><span class=\"line\">  repo: git@e.coding.net:a*e/w***e.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure>\n\n<p>方法二：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Deployment</span><br><span class=\"line\">## Docs: https://hexo.io/docs/deployment.html</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">   type: git  </span><br><span class=\"line\">   repo: </span><br><span class=\"line\">      github: https://e.coding.net/a*e/w***e.git</span><br><span class=\"line\">      coding: https://github.com/w***e/w***e.github.io.git</span><br><span class=\"line\">   branch: master</span><br></pre></td></tr></table></figure>","categories":[{"name":"Hexo","path":"api/categories/Hexo.json"}],"tags":[{"name":"Hexo","path":"api/tags/Hexo.json"}]}