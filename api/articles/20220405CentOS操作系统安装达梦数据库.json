{"title":"CentOS操作系统安装DM达梦数据库","slug":"20220405CentOS操作系统安装达梦数据库","date":"2022-04-05T14:18:00.000Z","updated":"2022-10-29T09:17:29.250Z","comments":true,"path":"api/articles/20220405CentOS操作系统安装达梦数据库.json","excerpt":"CentOS操作系统安装DM达梦数据库步骤和注意事项； [Figure] ","covers":["https://s2.loli.net/2022/07/01/TkFSKptV2ilWcNC.png","https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>CentOS操作系统安装DM达梦数据库步骤和注意事项；</p>\n<img src=\"https://s2.loli.net/2022/07/01/TkFSKptV2ilWcNC.png\" alt=\"DM\" style=\"zoom:80%;\" />\n\n<h3 id=\"1、创建用户和组\"><a href=\"#1、创建用户和组\" class=\"headerlink\" title=\"1、创建用户和组\"></a>1、创建用户和组</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. 创建安装用户组 dinstall。</span><br><span class=\"line\">groupadd -g 12349 dinstall</span><br><span class=\"line\">2. 创建安装用户 dmdba。</span><br><span class=\"line\">useradd -u 12345 -g dinstall -m -d /home/dmdba -s /bin/bash dmdba</span><br><span class=\"line\">3. 初始化用户密码。nitdDH***6888</span><br><span class=\"line\">passwd dmdba</span><br></pre></td></tr></table></figure>\n\n<p>dmdba用户密码：nitdDH***6888</p>\n<h3 id=\"2、检查操作系统限制\"><a href=\"#2、检查操作系统限制\" class=\"headerlink\" title=\"2、检查操作系统限制\"></a>2、检查操作系统限制</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">一、使用 ulimit -a 进行查询，参数说明如下</span><br><span class=\"line\">参数使用限制：</span><br><span class=\"line\">1.data seg size</span><br><span class=\"line\">data seg size (kbytes, -d)</span><br><span class=\"line\">建议用户设置为 1048576(即 1GB)以上或 unlimited(无限制)，此参数过小将导</span><br><span class=\"line\">致数据库启动失败。</span><br><span class=\"line\">2. file size</span><br><span class=\"line\">file size(blocks, -f)</span><br><span class=\"line\">建议用户设置为 unlimited(无限制)，此参数过小将导致数据库安装或初始化失败。</span><br><span class=\"line\">3. open files</span><br><span class=\"line\">open files(-n)</span><br><span class=\"line\">建议用户设置为 65536 以上或 unlimited(无限制)。</span><br><span class=\"line\">4.virtual memory</span><br><span class=\"line\">virtual memory (kbytes, -v)</span><br><span class=\"line\">建议用户设置为 1048576(即 1GB)以上或 unlimited(无限制)，此参数过小将导</span><br><span class=\"line\">致数据库启动失败。</span><br><span class=\"line\">如 果 用 户 需 要 为 当 前 安 装 用 户 更 改 ulimit 的 资 源 限 制 ， 请 修 改 文 件</span><br><span class=\"line\">/etc/security/limits.conf。</span><br><span class=\"line\">二、建议修改open files(-n)改为65536或unlimited(无限制)</span><br><span class=\"line\">1.编辑文件 /etc/security/limits.conf</span><br><span class=\"line\">vi /etc/security/limits.conf</span><br><span class=\"line\">2.在文档末尾（# End of file之前）添加如下内容，其中dmdba为下面将要创建的用户</span><br><span class=\"line\">dmdba soft nofile 65536</span><br><span class=\"line\">dmdba hard nofile 65536</span><br><span class=\"line\">也可以设置为*，*代表所有用户</span><br><span class=\"line\">* soft nofile 65536</span><br><span class=\"line\">* hard nofile 65536</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3、使用创建的用户登录安装\"><a href=\"#3、使用创建的用户登录安装\" class=\"headerlink\" title=\"3、使用创建的用户登录安装\"></a>3、使用创建的用户登录安装</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.赋予文件执行权限</span><br><span class=\"line\">chmod 755 ./DMInstall.bin</span><br><span class=\"line\">2.执行命令安装</span><br><span class=\"line\">./DMInstall.bin</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4、运行达梦数据库工具\"><a href=\"#4、运行达梦数据库工具\" class=\"headerlink\" title=\"4、运行达梦数据库工具\"></a>4、运行达梦数据库工具</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.进入达梦安装目录下的tool文件夹，如dmdbms/tool</span><br><span class=\"line\">cd dmdbms/tool</span><br><span class=\"line\">2.运行达梦数据库管理工具</span><br><span class=\"line\">./manager</span><br><span class=\"line\">3.运行达梦数据库迁移工具</span><br><span class=\"line\">./dts</span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"欢迎关注公众号收藏小程序\"><a href=\"#欢迎关注公众号收藏小程序\" class=\"headerlink\" title=\"欢迎关注公众号收藏小程序\"></a><center>欢迎关注公众号收藏小程序</center></h2><p><img src=\"https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg\" alt=\"河洛先生\"><img src=\"https://s2.loli.net/2022/06/23/PlUgz5KSHm7OBke.jpg\" alt=\"河洛先生\"></p>\n","more":"<hr>\n<h2 id=\"欢迎关注公众号收藏小程序\"><a href=\"#欢迎关注公众号收藏小程序\" class=\"headerlink\" title=\"欢迎关注公众号收藏小程序\"></a><center>欢迎关注公众号收藏小程序</center></h2><p><img src=\"https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg\" alt=\"河洛先生\"><img src=\"https://s2.loli.net/2022/06/23/PlUgz5KSHm7OBke.jpg\" alt=\"河洛先生\"></p>","categories":[{"name":"Linux","path":"api/categories/Linux.json"}],"tags":[{"name":"CentOS","path":"api/tags/CentOS.json"},{"name":"DM","path":"api/tags/DM.json"}]}