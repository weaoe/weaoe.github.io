{"title":"常用Oracle数据库命令","slug":"20220624常用Oracle数据库命令","date":"2022-06-24T14:15:23.000Z","updated":"2022-06-24T07:44:37.022Z","comments":true,"path":"api/articles/20220624常用Oracle数据库命令.json","excerpt":null,"covers":["https://s2.loli.net/2022/06/24/68pVkWZSHcPBzxv.jpg","https://s2.loli.net/2022/06/24/cxZCrmoFPD5JSuv.gif","https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg"],"content":"<p>本文主要用于记录常用的Oracle基本命令，由于多使用图形工具进行查询，命令使用较少，便于个人在以后使用时参考，其中有不正确的地方请指正。</p>\n<img src=\"https://s2.loli.net/2022/06/24/68pVkWZSHcPBzxv.jpg\" alt=\"image002\" style=\"zoom:80%;\" />\n\n<p>本文主要用于记录常用的Oracle基本命令，由于多使用图形工具进行查询，命令使用较少，便于个人在以后使用时参考，其中有不正确的地方请指正。</p>\n<h3 id=\"1-查看Oracle版本\"><a href=\"#1-查看Oracle版本\" class=\"headerlink\" title=\"1.查看Oracle版本\"></a>1.查看Oracle版本</h3><p>select * from product_component_version;</p>\n<h3 id=\"2-表管理命令\"><a href=\"#2-表管理命令\" class=\"headerlink\" title=\"2.表管理命令\"></a>2.表管理命令</h3><p>创建table：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE AAA(AA VARCHAR (5),BB VARCHAR (10), CC VARCHAR (90));</span><br></pre></td></tr></table></figure>\n\n<p>删除table：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DROP TABLE AAA;</span><br></pre></td></tr></table></figure>\n\n<p>增加column：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER TABLE AA ADD FNAME NUMBER NOT NULL;</span><br><span class=\"line\"></span><br><span class=\"line\">ALTER TABLE AA ADD FID VARCHAR (100) PRIMARY KEY;</span><br></pre></td></tr></table></figure>\n\n<p>增加value</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO AA (A, B) VALUES (&#x27;12345&#x27;, &#x27;9099889&#x27;);</span><br></pre></td></tr></table></figure>\n\n<p>更新value</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UPDATE AA SET A = &#x27;000&#x27; WHERE AA.B = &#x27;9&#x27;;</span><br></pre></td></tr></table></figure>\n\n<p>删除value</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE FROM IPOUSER.AA WHERE AA.A = &#x27;00000&#x27;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-表查询命令\"><a href=\"#3-表查询命令\" class=\"headerlink\" title=\"3.表查询命令\"></a>3.表查询命令</h3><p>基础查询：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.B.FCODINGS AS 代码,A.B.FNAME AS 名称 FROM A.B;</span><br></pre></td></tr></table></figure>\n\n<p>BETWEEN用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.B.C,A.B.D FROM A.B WHERE A.B.C BETWEEN &#x27;210882&#x27; AND &#x27;250883&#x27;;</span><br></pre></td></tr></table></figure>\n\n<p>AND和OR用法:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE A.B.FKINDNAME = &#x27;ABC&#x27; AND (A.B.FNAME = &#x27;威克岛&#x27; OR A.B.FNAME = &#x27;津巴布韦&#x27;);</span><br></pre></td></tr></table></figure>\n\n<p>ORDER BY用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B ORDER BY A.B.FID ASC;</span><br></pre></td></tr></table></figure>\n\n<p>ROWNUM用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE ROWNUM &lt;= 10;</span><br></pre></td></tr></table></figure>\n\n<p>LIKE用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE A.B.FNAME LIKE &#x27;_南省%&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT * FROM A.B WHERE A.B.FNAME LIKE &#x27;_南_郑_市%&#x27;;</span><br></pre></td></tr></table></figure>\n\n<p>IN用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE FNAME IN (&#x27;河南省郑州市&#x27;, &#x27;河南省洛阳市&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT * FROM TCODEENTRYS WHERE FCODINGS IN (SELECT FCODINGS FROM TCODEENTRYS WHERE FCODINGS &gt; &#x27;5000&#x27;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-数据去重\"><a href=\"#4-数据去重\" class=\"headerlink\" title=\"4.数据去重\"></a>4.数据去重</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DISTINCT NAME FROM USER.NAME;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-数据去重并统计数量\"><a href=\"#5-数据去重并统计数量\" class=\"headerlink\" title=\"5.数据去重并统计数量\"></a>5.数据去重并统计数量</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT COUNT(*) AS NUM FROM (SELECT DISTINCT NAME FROM USER.NAME);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-用户赋权限\"><a href=\"#6-用户赋权限\" class=\"headerlink\" title=\"6.用户赋权限\"></a>6.用户赋权限</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GRANT SELECT ON USER.NAME TO ADMIN;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7-多表联合查询\"><a href=\"#7-多表联合查询\" class=\"headerlink\" title=\"7.多表联合查询\"></a>7.多表联合查询</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.FNAME, A.FCODE, B.NAME FROM USERA.NAME A, USERB.NAME B WHERE A.CODE = B.CODE;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"8-创建视图\"><a href=\"#8-创建视图\" class=\"headerlink\" title=\"8.创建视图\"></a>8.创建视图</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM ( SELECT DBMS_LOB.GETLENGTH(PHOTO) AS FPHOTO FROM USER.NAME )WHERE FPSIZE &gt; 10000 AND FPSIZE IS NOT NULL ;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"9-查询字段长度\"><a href=\"#9-查询字段长度\" class=\"headerlink\" title=\"9. 查询字段长度\"></a>9. 查询字段长度</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM USER.NAME WHERE LENGTH(USER.NAME)&gt;3;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"10-创建视图\"><a href=\"#10-创建视图\" class=\"headerlink\" title=\"10.创建视图\"></a>10.创建视图</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE OR REPLACE FORCE VIEW ADMIN.&quot;企业和用户&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">(</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;系统&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;编码&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;名称&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;登录名&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;姓名&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;身份证号&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;手机号码&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;证书数量&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;证书号码&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">AS</span><br><span class=\"line\"></span><br><span class=\"line\">     SELECT (CASE A.B.FSYSTEMID</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 1 THEN &#x27;01&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 2 THEN &#x27;02&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 3 THEN &#x27;03&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 4 THEN &#x27;04&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                ELSE &#x27;未知</span><br><span class=\"line\"></span><br><span class=\"line\">             END)</span><br><span class=\"line\"></span><br><span class=\"line\">               AS 系统,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FCODE ,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FNAME ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FLOGINNAME ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FNAME ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FIDCARD ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FMOBILEVERIFYPHONE ,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FMVNUM ,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FMVCODE</span><br><span class=\"line\"></span><br><span class=\"line\">       FROM A.B, C.D</span><br><span class=\"line\"></span><br><span class=\"line\">      WHERE     A.B.FID = C.D.FORGANID</span><br><span class=\"line\"></span><br><span class=\"line\">            AND C.D.FNAME = &#x27;测试&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">   ORDER BY 系统 ASC;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"11-MINUS函数\"><a href=\"#11-MINUS函数\" class=\"headerlink\" title=\"11. MINUS函数\"></a>11. MINUS函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT T1.* FROM (SELECT * FROM ADMIN.TCELECT MINUS SELECT * FROM ADMIN.TALLHOTELS)T1;</span><br><span class=\"line\"></span><br><span class=\"line\">查询当前表中数据是否在领一张表中存在，结果显示不存在的数据</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"12-INSTR函数\"><a href=\"#12-INSTR函数\" class=\"headerlink\" title=\"12. INSTR函数\"></a>12. INSTR函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT INSTR (&#x27;ABBCC&#x27;,&#x27;C&#x27;,1,1) FROM DUAL;</span><br><span class=\"line\"></span><br><span class=\"line\">从源信息中查找目标信息，从&#x27;ABBCC&#x27;中第一位开始查找第一个&#x27;C&#x27;；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"13-REPLACE函数\"><a href=\"#13-REPLACE函数\" class=\"headerlink\" title=\"13. REPLACE函数\"></a>13. REPLACE函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">REPLACE (CONTENT,&#x27;aoe&#x27;,&#x27;000&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">REPLACE (源字段，“源信息“,“新信息“)，实例中为将字段CONTENT的内容由&#x27;aoe&#x27;替换为&#x27;000&#x27;；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"14-HAVING函数\"><a href=\"#14-HAVING函数\" class=\"headerlink\" title=\"14. HAVING函数\"></a>14. HAVING函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT CODE, COUNT (*) AS NUM FROM ABCTABLE GROUP BY CODE HAVING COUNT (*) &gt; 1;</span><br><span class=\"line\"></span><br><span class=\"line\">WHERE不能在GROUP BY 后面；</span><br><span class=\"line\"></span><br><span class=\"line\">HAVING是和GROUP BY 连在一起用的，放在GROUP BY 后面，用相当于WHERE；</span><br><span class=\"line\"></span><br><span class=\"line\">WHERE 后面的条件中不能有聚集函数，比如SUM(),AVG()等，而HAVING 可以；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"15-复制数据的三种方法\"><a href=\"#15-复制数据的三种方法\" class=\"headerlink\" title=\"15.复制数据的三种方法\"></a>15.复制数据的三种方法</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO A.TABLE1 SELECT * FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT * INTO A.TABLE1 FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE A.TABLE1 AS SELECT * FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">**说明：**</span><br><span class=\"line\"></span><br><span class=\"line\">INSERT INTO ...SELECT... 要求目标表必须存在；</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT INTO ...FROM...不支持Oracle；</span><br><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE ...AS SELECT ....不要求目标表须存在，而且支持Oracle数据库；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"16-INNER-JOIN函数\"><a href=\"#16-INNER-JOIN函数\" class=\"headerlink\" title=\"16. INNER JOIN函数\"></a>16. INNER JOIN函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.FCODE,A.FNAME FROM A INNER JOIN B ON A.FCODE = B.FCODE;</span><br><span class=\"line\"></span><br><span class=\"line\">一般用于多表联合查询或更新；</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT CODE,NAME FROM A.TABLE1 UNION ALL SELECT CODE,NAME FROM A.TABLE2;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"17-UNION-ALL函数\"><a href=\"#17-UNION-ALL函数\" class=\"headerlink\" title=\"17.UNION ALL函数\"></a>17.UNION ALL函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT CODE,NAME FROM A.TABLE1 UNION ALL SELECT CODE,NAME FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">用于结构或字段一致的信息联合查询；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"18-CONCAT函数\"><a href=\"#18-CONCAT函数\" class=\"headerlink\" title=\"18.CONCAT函数\"></a>18.CONCAT函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT CONCAT (&#x27;abc&#x27;, &#x27;aoe&#x27;) AS rzsj FROM A.TABLE1;</span><br><span class=\"line\"></span><br><span class=\"line\">CONCAT函数用于连接同类型的信息；</span><br></pre></td></tr></table></figure>\n\n\n\n<img src=\"https://s2.loli.net/2022/06/24/cxZCrmoFPD5JSuv.gif\" style=\"zoom:80%;\" />\n\n<hr>\n<h2 id=\"欢迎关注公众号收藏小程序\"><a href=\"#欢迎关注公众号收藏小程序\" class=\"headerlink\" title=\"欢迎关注公众号收藏小程序\"></a><center>欢迎关注公众号收藏小程序</center></h2><p><img src=\"https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg\" alt=\"河洛先生\"><img src=\"https://s2.loli.net/2022/06/23/PlUgz5KSHm7OBke.jpg\" alt=\"河洛先生\"></p>\n","more":"<p>本文主要用于记录常用的Oracle基本命令，由于多使用图形工具进行查询，命令使用较少，便于个人在以后使用时参考，其中有不正确的地方请指正。</p>\n<img src=\"https://s2.loli.net/2022/06/24/68pVkWZSHcPBzxv.jpg\" alt=\"image002\" style=\"zoom:80%;\" />\n\n<p>本文主要用于记录常用的Oracle基本命令，由于多使用图形工具进行查询，命令使用较少，便于个人在以后使用时参考，其中有不正确的地方请指正。</p>\n<h3 id=\"1-查看Oracle版本\"><a href=\"#1-查看Oracle版本\" class=\"headerlink\" title=\"1.查看Oracle版本\"></a>1.查看Oracle版本</h3><p>select * from product_component_version;</p>\n<h3 id=\"2-表管理命令\"><a href=\"#2-表管理命令\" class=\"headerlink\" title=\"2.表管理命令\"></a>2.表管理命令</h3><p>创建table：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE AAA(AA VARCHAR (5),BB VARCHAR (10), CC VARCHAR (90));</span><br></pre></td></tr></table></figure>\n\n<p>删除table：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DROP TABLE AAA;</span><br></pre></td></tr></table></figure>\n\n<p>增加column：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER TABLE AA ADD FNAME NUMBER NOT NULL;</span><br><span class=\"line\"></span><br><span class=\"line\">ALTER TABLE AA ADD FID VARCHAR (100) PRIMARY KEY;</span><br></pre></td></tr></table></figure>\n\n<p>增加value</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO AA (A, B) VALUES (&#x27;12345&#x27;, &#x27;9099889&#x27;);</span><br></pre></td></tr></table></figure>\n\n<p>更新value</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UPDATE AA SET A = &#x27;000&#x27; WHERE AA.B = &#x27;9&#x27;;</span><br></pre></td></tr></table></figure>\n\n<p>删除value</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE FROM IPOUSER.AA WHERE AA.A = &#x27;00000&#x27;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-表查询命令\"><a href=\"#3-表查询命令\" class=\"headerlink\" title=\"3.表查询命令\"></a>3.表查询命令</h3><p>基础查询：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.B.FCODINGS AS 代码,A.B.FNAME AS 名称 FROM A.B;</span><br></pre></td></tr></table></figure>\n\n<p>BETWEEN用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.B.C,A.B.D FROM A.B WHERE A.B.C BETWEEN &#x27;210882&#x27; AND &#x27;250883&#x27;;</span><br></pre></td></tr></table></figure>\n\n<p>AND和OR用法:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE A.B.FKINDNAME = &#x27;ABC&#x27; AND (A.B.FNAME = &#x27;威克岛&#x27; OR A.B.FNAME = &#x27;津巴布韦&#x27;);</span><br></pre></td></tr></table></figure>\n\n<p>ORDER BY用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B ORDER BY A.B.FID ASC;</span><br></pre></td></tr></table></figure>\n\n<p>ROWNUM用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE ROWNUM &lt;= 10;</span><br></pre></td></tr></table></figure>\n\n<p>LIKE用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE A.B.FNAME LIKE &#x27;_南省%&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT * FROM A.B WHERE A.B.FNAME LIKE &#x27;_南_郑_市%&#x27;;</span><br></pre></td></tr></table></figure>\n\n<p>IN用法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM A.B WHERE FNAME IN (&#x27;河南省郑州市&#x27;, &#x27;河南省洛阳市&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT * FROM TCODEENTRYS WHERE FCODINGS IN (SELECT FCODINGS FROM TCODEENTRYS WHERE FCODINGS &gt; &#x27;5000&#x27;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-数据去重\"><a href=\"#4-数据去重\" class=\"headerlink\" title=\"4.数据去重\"></a>4.数据去重</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT DISTINCT NAME FROM USER.NAME;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-数据去重并统计数量\"><a href=\"#5-数据去重并统计数量\" class=\"headerlink\" title=\"5.数据去重并统计数量\"></a>5.数据去重并统计数量</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT COUNT(*) AS NUM FROM (SELECT DISTINCT NAME FROM USER.NAME);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-用户赋权限\"><a href=\"#6-用户赋权限\" class=\"headerlink\" title=\"6.用户赋权限\"></a>6.用户赋权限</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GRANT SELECT ON USER.NAME TO ADMIN;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7-多表联合查询\"><a href=\"#7-多表联合查询\" class=\"headerlink\" title=\"7.多表联合查询\"></a>7.多表联合查询</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.FNAME, A.FCODE, B.NAME FROM USERA.NAME A, USERB.NAME B WHERE A.CODE = B.CODE;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"8-创建视图\"><a href=\"#8-创建视图\" class=\"headerlink\" title=\"8.创建视图\"></a>8.创建视图</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM ( SELECT DBMS_LOB.GETLENGTH(PHOTO) AS FPHOTO FROM USER.NAME )WHERE FPSIZE &gt; 10000 AND FPSIZE IS NOT NULL ;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"9-查询字段长度\"><a href=\"#9-查询字段长度\" class=\"headerlink\" title=\"9. 查询字段长度\"></a>9. 查询字段长度</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT * FROM USER.NAME WHERE LENGTH(USER.NAME)&gt;3;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"10-创建视图\"><a href=\"#10-创建视图\" class=\"headerlink\" title=\"10.创建视图\"></a>10.创建视图</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE OR REPLACE FORCE VIEW ADMIN.&quot;企业和用户&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">(</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;系统&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;编码&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;名称&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;登录名&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;姓名&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;身份证号&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;手机号码&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;证书数量&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">   &quot;证书号码&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">AS</span><br><span class=\"line\"></span><br><span class=\"line\">     SELECT (CASE A.B.FSYSTEMID</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 1 THEN &#x27;01&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 2 THEN &#x27;02&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 3 THEN &#x27;03&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                WHEN 4 THEN &#x27;04&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">                ELSE &#x27;未知</span><br><span class=\"line\"></span><br><span class=\"line\">             END)</span><br><span class=\"line\"></span><br><span class=\"line\">               AS 系统,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FCODE ,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FNAME ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FLOGINNAME ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FNAME ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FIDCARD ,</span><br><span class=\"line\"></span><br><span class=\"line\">            C.D.FMOBILEVERIFYPHONE ,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FMVNUM ,</span><br><span class=\"line\"></span><br><span class=\"line\">            A.B.FMVCODE</span><br><span class=\"line\"></span><br><span class=\"line\">       FROM A.B, C.D</span><br><span class=\"line\"></span><br><span class=\"line\">      WHERE     A.B.FID = C.D.FORGANID</span><br><span class=\"line\"></span><br><span class=\"line\">            AND C.D.FNAME = &#x27;测试&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">   ORDER BY 系统 ASC;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"11-MINUS函数\"><a href=\"#11-MINUS函数\" class=\"headerlink\" title=\"11. MINUS函数\"></a>11. MINUS函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT T1.* FROM (SELECT * FROM ADMIN.TCELECT MINUS SELECT * FROM ADMIN.TALLHOTELS)T1;</span><br><span class=\"line\"></span><br><span class=\"line\">查询当前表中数据是否在领一张表中存在，结果显示不存在的数据</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"12-INSTR函数\"><a href=\"#12-INSTR函数\" class=\"headerlink\" title=\"12. INSTR函数\"></a>12. INSTR函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT INSTR (&#x27;ABBCC&#x27;,&#x27;C&#x27;,1,1) FROM DUAL;</span><br><span class=\"line\"></span><br><span class=\"line\">从源信息中查找目标信息，从&#x27;ABBCC&#x27;中第一位开始查找第一个&#x27;C&#x27;；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"13-REPLACE函数\"><a href=\"#13-REPLACE函数\" class=\"headerlink\" title=\"13. REPLACE函数\"></a>13. REPLACE函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">REPLACE (CONTENT,&#x27;aoe&#x27;,&#x27;000&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">REPLACE (源字段，“源信息“,“新信息“)，实例中为将字段CONTENT的内容由&#x27;aoe&#x27;替换为&#x27;000&#x27;；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"14-HAVING函数\"><a href=\"#14-HAVING函数\" class=\"headerlink\" title=\"14. HAVING函数\"></a>14. HAVING函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT CODE, COUNT (*) AS NUM FROM ABCTABLE GROUP BY CODE HAVING COUNT (*) &gt; 1;</span><br><span class=\"line\"></span><br><span class=\"line\">WHERE不能在GROUP BY 后面；</span><br><span class=\"line\"></span><br><span class=\"line\">HAVING是和GROUP BY 连在一起用的，放在GROUP BY 后面，用相当于WHERE；</span><br><span class=\"line\"></span><br><span class=\"line\">WHERE 后面的条件中不能有聚集函数，比如SUM(),AVG()等，而HAVING 可以；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"15-复制数据的三种方法\"><a href=\"#15-复制数据的三种方法\" class=\"headerlink\" title=\"15.复制数据的三种方法\"></a>15.复制数据的三种方法</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO A.TABLE1 SELECT * FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT * INTO A.TABLE1 FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE A.TABLE1 AS SELECT * FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">**说明：**</span><br><span class=\"line\"></span><br><span class=\"line\">INSERT INTO ...SELECT... 要求目标表必须存在；</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT INTO ...FROM...不支持Oracle；</span><br><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE ...AS SELECT ....不要求目标表须存在，而且支持Oracle数据库；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"16-INNER-JOIN函数\"><a href=\"#16-INNER-JOIN函数\" class=\"headerlink\" title=\"16. INNER JOIN函数\"></a>16. INNER JOIN函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT A.FCODE,A.FNAME FROM A INNER JOIN B ON A.FCODE = B.FCODE;</span><br><span class=\"line\"></span><br><span class=\"line\">一般用于多表联合查询或更新；</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT CODE,NAME FROM A.TABLE1 UNION ALL SELECT CODE,NAME FROM A.TABLE2;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"17-UNION-ALL函数\"><a href=\"#17-UNION-ALL函数\" class=\"headerlink\" title=\"17.UNION ALL函数\"></a>17.UNION ALL函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT CODE,NAME FROM A.TABLE1 UNION ALL SELECT CODE,NAME FROM A.TABLE2;</span><br><span class=\"line\"></span><br><span class=\"line\">用于结构或字段一致的信息联合查询；</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"18-CONCAT函数\"><a href=\"#18-CONCAT函数\" class=\"headerlink\" title=\"18.CONCAT函数\"></a>18.CONCAT函数</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT CONCAT (&#x27;abc&#x27;, &#x27;aoe&#x27;) AS rzsj FROM A.TABLE1;</span><br><span class=\"line\"></span><br><span class=\"line\">CONCAT函数用于连接同类型的信息；</span><br></pre></td></tr></table></figure>\n\n\n\n<img src=\"https://s2.loli.net/2022/06/24/cxZCrmoFPD5JSuv.gif\" style=\"zoom:80%;\" />\n\n<hr>\n<h2 id=\"欢迎关注公众号收藏小程序\"><a href=\"#欢迎关注公众号收藏小程序\" class=\"headerlink\" title=\"欢迎关注公众号收藏小程序\"></a><center>欢迎关注公众号收藏小程序</center></h2><p><img src=\"https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg\" alt=\"河洛先生\"><img src=\"https://s2.loli.net/2022/06/23/PlUgz5KSHm7OBke.jpg\" alt=\"河洛先生\"></p>\n","categories":[{"name":"Windows","path":"api/categories/Windows.json"}],"tags":[{"name":"Oracle","path":"api/tags/Oracle.json"}]}