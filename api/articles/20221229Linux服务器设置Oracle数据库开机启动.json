{"title":"Linux服务器设置Oracle数据库开机启动","slug":"20221229Linux服务器设置Oracle数据库开机启动","date":"2022-12-29T14:11:42.000Z","updated":"2022-12-29T03:43:06.055Z","comments":true,"path":"api/articles/20221229Linux服务器设置Oracle数据库开机启动.json","excerpt":"Linux服务器安装Oracle数据库后，通过自带的dbstart和 dbshut两个脚本进行配置自动启动 [Figure] 5、重启服务器验证Oracle 数据库实例及监听均已成功启动","covers":["https://s2.loli.net/2022/06/06/vkiqp7ATZIMhdCK.png","https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>Linux服务器安装Oracle数据库后，通过自带的dbstart和 dbshut两个脚本进行配置自动启动</p>\n<img src=\"https://s2.loli.net/2022/06/06/vkiqp7ATZIMhdCK.png\" alt=\"Oracle\" style=\"zoom: 80%;\" />\n\n<h3 id=\"1、Oracle-用户修改-x2F-etc-x2F-oratab-文件\"><a href=\"#1、Oracle-用户修改-x2F-etc-x2F-oratab-文件\" class=\"headerlink\" title=\"1、Oracle 用户修改 &#x2F;etc&#x2F;oratab 文件\"></a>1、Oracle 用户修改 &#x2F;etc&#x2F;oratab 文件</h3><p>编辑oratab，将最后一行的<br>DHPO:&#x2F;data&#x2F;oracle&#x2F;product&#x2F;11.2.0&#x2F;db_1:N<br>修改为<br>DHPO:&#x2F;data&#x2F;oracle&#x2F;product&#x2F;11.2.0&#x2F;db_1:Y<br>意思是将不允许自动启动改为允许自动启动</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/oratab</span><br><span class=\"line\">DHPO:/data/oracle/product/11.2.0/db_1:Y</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2、Oracle用户修改安装目录下dbstart文件\"><a href=\"#2、Oracle用户修改安装目录下dbstart文件\" class=\"headerlink\" title=\"2、Oracle用户修改安装目录下dbstart文件\"></a>2、Oracle用户修改安装目录下dbstart文件</h3><p>编辑dbstart文件，将<br>ORACLE_HOME_LISTNER&#x3D;1<br>修改为<br>ORACLE_HOME_LISTNER&#x3D;ORACLE_HOME</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd $ORACLE_HOME/bin  //也可以输入绝对路径</span><br><span class=\"line\">vi dbstart</span><br><span class=\"line\">ORACLE_HOME_LISTNER=ORACLE_HOME</span><br></pre></td></tr></table></figure>\n\n<p>如果数据库是 19c 的话，需要修改如下两处</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">将 ORACLE_HOME_LISTNER=1 修改为 ORACLE_HOME_LISTNER=ORACLE_HOME</span><br><span class=\"line\">将 ORACLE_HOME=1 修改为 ORACLE_HOME=ORACLE_HOME</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3、root用户将dbstart加入开机自启动\"><a href=\"#3、root用户将dbstart加入开机自启动\" class=\"headerlink\" title=\"3、root用户将dbstart加入开机自启动\"></a>3、root用户将dbstart加入开机自启动</h3><p>编辑 rc.local 文件,在最后添加如下命令，其中路径修改为服务器Oracle安装目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">vi /etc/rc.d/rc.local</span><br><span class=\"line\">su - oracle -lc /data/oracle/product/11.2.0/db_1/bin/dbstart</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4、root用户将rd-local-文件添加可执行权限\"><a href=\"#4、root用户将rd-local-文件添加可执行权限\" class=\"headerlink\" title=\"4、root用户将rd.local 文件添加可执行权限\"></a>4、root用户将rd.local 文件添加可执行权限</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//查看文件权限</span><br><span class=\"line\">ll /etc/rc.d/rc.local </span><br><span class=\"line\">//返回结果</span><br><span class=\"line\">-rw-r--r-- 1 root root 541 Jul 19 19:01 /etc/rc.d/rc.local</span><br><span class=\"line\">//添加执行权限</span><br><span class=\"line\">chmod u+x /etc/rc.d/rc.local</span><br><span class=\"line\">//重新查看权限</span><br><span class=\"line\">ll /etc/rc.d/rc.local</span><br><span class=\"line\">//返回结果，已添加成功</span><br><span class=\"line\">-rwxr--r-- 1 root root 541 Jul 19 19:01 /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5、重启服务器验证\"><a href=\"#5、重启服务器验证\" class=\"headerlink\" title=\"5、重启服务器验证\"></a>5、重启服务器验证</h3><p>Oracle 数据库实例及监听均已成功启动</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"欢迎关注公众号收藏小程序\"><a href=\"#欢迎关注公众号收藏小程序\" class=\"headerlink\" title=\"欢迎关注公众号收藏小程序\"></a><center>欢迎关注公众号收藏小程序</center></h2><p><img src=\"https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg\" alt=\"河洛先生\"><img src=\"https://s2.loli.net/2022/06/23/PlUgz5KSHm7OBke.jpg\" alt=\"河洛先生\"></p>\n","more":"<hr>\n<h2 id=\"欢迎关注公众号收藏小程序\"><a href=\"#欢迎关注公众号收藏小程序\" class=\"headerlink\" title=\"欢迎关注公众号收藏小程序\"></a><center>欢迎关注公众号收藏小程序</center></h2><p><img src=\"https://s2.loli.net/2022/06/23/bYdtKDC2U5J7iWr.jpg\" alt=\"河洛先生\"><img src=\"https://s2.loli.net/2022/06/23/PlUgz5KSHm7OBke.jpg\" alt=\"河洛先生\"></p>","categories":[{"name":"Linux","path":"api/categories/Linux.json"}],"tags":[{"name":"Oracle","path":"api/tags/Oracle.json"}]}